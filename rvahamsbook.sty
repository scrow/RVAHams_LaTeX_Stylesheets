%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% rvahamsbook.sty	RVAHams Document Library Stylesheet - Book
% version 1.0           Steve Crow, scrow@sdf.org, 21-Jun-2015
% 
% Copyright 2015 Steven Crow
% 
% This file is part of RVAHams Document Library Stylesheets.
% 
% RVAHams Document Library Stylesheets is free software: you can
% redistribute it and/or modify it under the terms of the GNU General
% Public License as published by the Free Software Foundation, either
% version 3 of the License, or (at your option) any later version.
% 
% RVAHams Document Library Stylesheets is distributed in the hope that
% it will be useful, but WITHOUT ANY WARRANTY; without even the
% implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
% PURPOSE.  See the GNU General Public License for more details.
% 
% You should have received a copy of the GNU General Public License
% along with RVAHams Document Library Stylesheets.  If not, see
% <http://www.gnu.org/licenses/>.
% 
% This resource lives at:
%  https://github.com/scrow/rvahams-latex-stylesheets
% 
% This is the standard stylesheet for RVAHAMS training manuals and
% other lengthy reference materials.  It features a standard title and
% license page, several different page geometry options, and fancy
% headers.
% 
% Adapted from the WX4AKQ LaTeX Stylesheets, version 1.3, found at
%  https://github.com/scrow/wx4akq-latex-stylesheets
% 
% version 1.0  21-Jun-2015  Initial release
% 
% Here is a sample document:
% 
% \documentclass[pdflatex,letterpaper,twoside,12pt]{book}
% 
% \title             {Sample Document}
% \author            {John Doe}
% \date              {24-Jan-2014}
% \newcommand\docver {Version 1.0}
% 
% \usepackage{rvahamsbook}
% \rvahFormat{printing}
% \disableAutoNumbering
% \useColorLinks
% 
% \begin{document}
% \rvahTitlePage
% \skipToTOC
% \rvahTOC
% 
% \chapter{Chapter One}
% \section{Section One}
% Sample text.
% \end{document}
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


% Miscellaneous Packages
\usepackage[english]{babel}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{url}
\usepackage{titlesec}
\usepackage{hyperref}
\usepackage{moreverb}
\usepackage{upquote}
\usepackage{extsizes}
\usepackage{parskip}
\usepackage{float}
\usepackage{everypage}
\usepackage{ifthen}
\usepackage[letterpaper]{geometry}
\usepackage{ragged2e}
\usepackage{tcolorbox}
\usepackage{xcolor}

\hyphenation{SKYWARN}
\hyphenation{EMCOMM}
\hyphenation{RVAHams}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% --- Define our team color --------------------------------------------
\definecolor{skywarnorange}{rgb}{0.925,0.525,0.184}
\definecolor{sovagray}{RGB}{99,99,89}
\definecolor{sovared}{RGB}{237,28,36}
\definecolor{sovablue}{RGB}{0,152,140}
\definecolor{rvahorange}{RGB}{234,123,86}
\definecolor{rvahyellow}{RGB}{245,233,93}
\definecolor{rvahblack}{RGB}{0,0,0}
\definecolor{rvahgray}{RGB}{54,53,53}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% --- Easy orange boxes ------------------------------------------------
\newcommand{\orangebox}[2]{
  \begin{tcolorbox}[colback=skywarnorange!25!white,colframe=skywarnorange,title={#1}]
    % optional parameters: watermark color=white,watermark text=Fit
    {#2}
\end{tcolorbox}
} % end newcommand \orangebox

% --- Easy sova boxes --------------------------------------------------
\newcommand{\sovabox}[2]{
  \begin{tcolorbox}[colback=sovagray!25!white,colframe=sovared,title={#1}]
    % optional parameters: watermark color=white,watermark text=Fit
    {#2}
\end{tcolorbox}
} % end newcommand \sovabox

% --- Easy RVAH boxes --------------------------------------------------
\newcommand{\rvahbox}[2]{
  \begin{tcolorbox}[colback=rvahyellow!25!white,colframe=rvahorange,title={#1}]
    % optional parameters: watermark color=white,watermark text=Fit
    {#2}
\end{tcolorbox}
} % end newcommand \rvahbox

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% --- remove line breaks from text (footer)--- -------------------------
\newcommand{\removelinebreaks}[1]{%
  \begingroup\def\\{ }#1\endgroup}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% --- provide page geometry and header options -------------------------
\newcommand{\rvahFormat}[1]{
  \ifthenelse{\equal{#1}{printing}}{
    \newgeometry{inner=3cm,outer=3cm,top=2cm,bottom=2cm,bindingoffset=0cm}
    \pagestyle{fancy}
    % 
    % Define fancy headers
    \fancyhf{}
    \fancyhead[R]{\leftmark}
    \fancyhead[R]{\nouppercase\rightmark}
    \fancyfoot[R]{\thepage}
    \fancyfoot[L]{\removelinebreaks{\emph{\inserttitle}}}

    \fancyheadoffset{0cm}
    \setlength{\headheight}{17pt}

    \renewcommand{\footrulewidth}{0.4pt}
    \renewcommand{\headrulewidth}{0.4pt}
    % 
    % Display fancy footers on chapter pages
    \fancypagestyle{plain}{%
	\fancyhf{}\fancyfoot[R]{\thepage}%
	\renewcommand{\headrulewidth}{0pt}}
  }{}

  \ifthenelse{\equal{#1}{binding}}{
    \newgeometry{inner=1.5cm,outer=1.5cm,top=2cm,bottom=2cm,bindingoffset=1cm}
    \pagestyle{fancy}
    % 
    % Define fancy headers
    \fancyhf{}
    \fancyhead[RE]{\leftmark}
    \fancyhead[LO]{\nouppercase\rightmark}
    \fancyfoot[LO,RE]{\thepage}
    \fancyheadoffset{0cm}
    \setlength{\headheight}{17pt}
    % 
    % Display fancy footers on chapter pages
    \fancypagestyle{plain}{%
	\fancyhf{}\fancyfoot[R]{\thepage}%
	\renewcommand{\headrulewidth}{0pt}}
  }{}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% OPTIONAL Watermarking
\newcommand{\printWatermark}[1]{
  \usepackage[]{draftwatermark}
  \SetWatermarkText  {#1}
  \SetWatermarkScale {4}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% OPTIONAL Disable Numbering command
\newcommand{\disableAutoNumbering}{
  % OPTIONAL disable numbering of sections
  \setcounter{secnumdepth}{0}

  % OPTIONAL set custom chapter titles
  \titleformat{\chapter}{\Large\bfseries}{}{0pt}{\huge}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% OPTIONAL do not display chapter number in header
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% OPTIONAL configure hyperlinks
\newcommand{\useColorLinks}{
  \hypersetup{colorlinks=true,linkcolor=blue,urlcolor=blue,pdfstartpage=1,final}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% --- More Fancy Headers! ----------------------------------------------
% Enable fancy headers
\pagestyle{fancy}

% Create custom page style with no headers or footers
% To use this completely blank page, issue \clearpage\thispagestyle{blank}\clearpage
\fancypagestyle{blank}{%
	\fancyhf{}\fancyfoot[R]{}\fancyhead[R]{}\fancyfoot[L]{}\fancyhead[L]{}\renewcommand{\headrulewidth}{0pt}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% --- a few shortcuts --------------------------------------------------
% Create an \inserttitle macro to insert the \title
\makeatletter
\let\inserttitle\@title
\makeatother
% 
% Create an \insertAuthor macro to insert the document \author
\makeatletter
\let\insertauthor\@author
\makeatother
% 
% Create an \insertdate macro to insert the document \date
\makeatletter
\let\insertdate\@date
\makeatother
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% --- Title & License Page ---------------------------------------------
\newcommand{\rvahTitlePage}{
  \begin{titlepage}
  \newgeometry{left=3cm,bottom=2cm,top=2cm,right=3cm,bindingoffset=0cm}
  \fancypagestyle{plain}

  \noindent\includegraphics[width=0.5\textwidth]{\logofile}\\[1in]

  {\Large \bfseries{{\inserttitle\\[0.25in]}}}
  {\large \insertauthor\\[0.25in]}
  {\large RVAHams}\\
  {\large Amateur Radio Communications Team\\}
  {\large http://www.rvahams.com\\}

  \rule{\textwidth}{0.4pt}
  {\small \docver\\}
  {\small \insertdate}

  \begin{figure}[b]
  \rule{\textwidth}{0.4pt}
(license text here)
  \end{figure}

  \restoregeometry
  \end{titlepage}
}

\newcommand{\skipToTOC}{
  \clearpage
  \thispagestyle{blank}
  \clearpage
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% --- TOC --------------------------------------------------------------
\newcommand{\rvahTOC}{
  \setcounter{tocdepth}{3}
  \tableofcontents
  \clearpage
}
